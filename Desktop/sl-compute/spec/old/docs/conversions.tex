\section{Conversions}
\label{sec:conversions}

% \textcolor{red}{TBD}

\subsection{Binary EC Subtract}
\label{sec:binary_ec_subtract}

This function takes an integer (say $a$) represented by an $l$-bit $\BinaryStringShare$ value (say $\vec{A}$) as input, and outputs the $\BinaryStringShare$ representation of $a - p$, where $p = 2^{255} - 19$. This function is used for $\mod p$ operations, where $p$ is subtracted from $a$ if $a > p$ holds.

This function assumes the existence of a bit full adder (FA), which takes three $\BinaryShare$ values (say $a$, $b$ and $c$) as input, and outputs the $\BinaryShare$ values of the sum and carry bits of the inputs.

This function securely performs two's complement method of subtraction on $a$ and $b$ to obtain the output.

\begin{protocol}[BinaryECSubtract$({[\vec{A}]^B})$]
	${[\vec{P}]^B} =$ DefaultBinaryShare$(p)$\\
	$[carry]^B = $ DefaultBinaryShare$(\false)$ \\
	${[\vec{InvP}]^B} =$ Inverse$({[\vec{P}]^B})$\\
	$[\vec{TempSum}]^B = $ DefaultBinaryShare$(0)$ \\
	for $i = 0, \ldots, l - 1$:\\
	\indent $[carry]^B, [\vec{TempSum}_i]^B =$ FA$([\vec{InvP}_i]^B, [\vec{A}_i]^B, [carry]^B)$\\
	$[\vec{output}]^B = $ DefaultBinaryShare$(0)$ \\
	$[false]^B = $ DefaultBinaryShare$(\false)$ \\
	for $i = 0, \ldots, l - 1$:\\
	\indent $[carry]^B, [\vec{output}_i]^B =$ FA$([\vec{TempSum}_i]^B, [false]^B, [carry]^B)$\\
	return $[\vec{output}]^B$
\end{protocol}

\subsection{Binary EC Subtract Long}
\label{sec:binary_ec_subtract_long}

This function is identical to protocol from Section \ref{sec:binary_ec_subtract} in both its logic and operation. The only difference is that the input length is longer compared to Protocol \ref{sec:binary_ec_subtract}. For the sake of brevity, the detailed explanation and protocol steps are not repeated here.